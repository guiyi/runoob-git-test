<h2 id="introduction">Introduction</h2>
<p><a href="image:DFR0112.jpg" title="wikilink">thumbThe</a> Player is able to play MP3/WAV/Midi sound track on SD card. It supports two interface UART/I2C which lets other microcontroller to talk to the player. The player support both I2C and UART interface (via jumper). The play is thus able to controled by PC. A TTL/USB converter is required. ==Specification==<a href="image:DFR0112-4.jpg" title="wikilink">thumb</a>*Supply Voltage:5V*Current:1000mA*CPU:Atmega 328P*MP3 Chip:<a href="http://www.vlsi.fi/datasheets/vs1003.pdf">VS1003</a>*Interface:I2C/UART*UART:19200/8/N/1 (TTL level)*I2C Address:0x35*Output Power:2x3W*Support Media:MP3,WAV,MIDI*Support Meida Card:1 GB Micro Card*Support command: Pause/Next Sound/Previoud Sound/Play Sound/ Volume Control==UART/I2C Mode Switch==<a href="image:DFR0112_(2).jpg" title="wikilink">thumbThe</a> interface mode of Player can be switched via the jumper. The green led will flash once which means the player is under UART(Serial) mode when the player startup. The green led will flash twice which means the player is under I2C mode. Once the Player is ready the green LED will stay litI2C pin connection:Analog Pin4 (SDA) goes to DOAnalog Pin5 (SCL) goes to DI==Support SD Cards==The player has been tested with micro SD card (1G). The SD card must be formatted at FAT format, not FAT32. If the green led is flashing all the time which means the SD card is not ready, either not supported or not correctly formatted. And string &quot;\Plese check micro SD card\r\n&quot; will be returned in UART mode. <strong>the player will only work if:</strong>*there is a <strong>directory</strong> named &quot;<strong>sound</strong>&quot; in the root of the card*that directory contains files ending in &quot;wma&quot;, &quot;wav&quot;, &quot;mid&quot; or &quot;mp3&quot;the blinking light signals not only problems reading the card, but it will also blink if there is no &quot;\sound&quot; directory or if there are no playable files in that directory.If the green led do not flash, it means the SD card is working properly.==Support Commands==*Pause Play &quot;\:p\r\n&quot; Return &quot;pause\r\n&quot; if success*Continoue Play &quot;\:s\r\n&quot; Return &quot;start\r\n&quot; if success*Play next &quot;\:n\r\n&quot; Return &quot;next\r\n&quot; if success，Return &quot;false\r\n&quot; if failed*Play previous &quot;\:u\r\n&quot; Return &quot;key up\r\n&quot;*Set the volume &quot;\:v 255\r\n&quot;，set the volume, from 0 (minimum)-255 (maximum), Return &quot;vol set ok&quot; if success<br /><br /><br /><br /><br /><br /><br /><br /><br />==Connection Diagram==![fig:AudioPlayer.jpg](https://github.com/DFRobot/DFRobotDocument/DFRduino_Player_(SKU:DFR0112)/image/AudioPlayer.jpg  "AudioPlayer.jpg")Note that no return except &quot;OK&quot; is returned under IIC mode.</p>
<pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="ot">#include &lt;Wire.h&gt;#include &lt;stdlib.h&gt;#define ArduinoPlayer_address 0x35  </span><span class="co">//ArduinoPlayer I2C address 0x35 (default)void TwiSend(const char  *cmd)  //I2C Command{  char len = 0;  len = strlen(cmd); //Calculate the length of the command  Wire.beginTransmission(ArduinoPlayer_address); // ArduinoPlayer I2C address  while(len--)  {    Wire.send(*(cmd++));        }  Wire.endTransmission();    // stop transmitting}void setup(){  Wire.begin(); // join i2c bus (address optional for master)  Serial.begin(9600);  delay(2000);//Wait for 2 seconds  Serial.println(&quot;Ready&quot;);   TwiSend(&quot;\\:v 255\r\n&quot;);    // set the volume, from 0 (minimum)-255 (maximum)}//Receive control command from serialvoid loop(){  int val;  if(Serial.available() &gt; 0)  {    val=Serial.read();    switch(val)    {    case &#39;p&#39;:      // Pause      TwiSend(&quot;\\:p\r\n&quot;);      Serial.println(&quot;OK&quot;);      break;     case &#39;s&#39;:     // Continoue to play      TwiSend(&quot;\\:s\r\n&quot;);      Serial.println(&quot;OK&quot;);      break;         case  &#39;n&#39;:      TwiSend(&quot;\\:n\r\n&quot;);  // Play next      Serial.println(&quot;OK&quot;);      break;     case &#39;u&#39;:      TwiSend(&quot;\\:u\r\n&quot;); // Play previous      Serial.println(&quot;OK&quot;);      break;     case  &#39;m&#39;:      //Play      //The volume must be set before playing the sound      TwiSend(&quot;\\:v 250\r\n&quot;);    // set the volume, from 0 (minimum)-255 (maximum)      TwiSend(&quot;\\yes\r\n&quot;);       Serial.println(&quot;OK&quot;);      break;       default:      break;        }  }}</span></code></pre>
<p><br />===UART MODE===Put jumper to IIC mode. Connect the player directly to computer via TTL-USB converter. We can use any serial communication assistant to send commands, or use Arduino serial monitor. The baud of communication is 19200 if not changed.<br />*serial communication assistant:<br />Considering the correctness of data, we recommend to send controls in ASCII HEX code.<br />Next song: 5C 3A 6E 0D 0A<br />Previous song: 5C 3A 75 0D 0A<br />pause: 5C 3A 70 0D 0A<br />Start: 5C 3A 73 0D 0A<br /> Volume set: 5C 3A 76 20 (32 35 35) 0D 0A<br />Change the volume as your wish. (Notation: 32 35 35 is ASCII HEX code of &quot;255&quot;, you can change it from 0-255. However, we suggest range from 200 to 255 since the sound is quite low under 200.) Song choice mode: 5C (...) 0D 0A.<br />We can play any song in SD card if you know the song name.(...) should be replaced by HEX code of song name. For example, if the song name is 'sky', (...) can be replaced by 73 6B 79.)<br /><br />![fig:AudioPlayer.jpg](https://github.com/DFRobot/DFRobotDocument/DFRduino_Player_(SKU:DFR0112)/image/AudioPlayer.jpg  "AudioPlayer.jpg")<a href="category:_Product_Manual" title="wikilink">category: Product Manual</a><a href="category:_DFR_Series" title="wikilink">category: DFR Series</a><a href="category:_Modules" title="wikilink">category: Modules</a><a href="category:_source" title="wikilink">category: source</a><a href="category:_Diagram" title="wikilink">category: Diagram</a></p>---
title: DFRduino Player (SKU:DFR0112)
permalink: /DFRduino_Player_(SKU:DFR0112)/
---

